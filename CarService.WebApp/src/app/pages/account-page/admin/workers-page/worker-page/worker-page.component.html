<div class='wrapper'>
	<app-about
		header="О сотруднике"
		[item]="user"
	>
		<ng-template bTemplate="about-content"
								 let-item
		>
			<h3>Фамилия</h3>
			<p>{{ item.lastName }}</p>
			<h3>Имя</h3>
			<p>{{ item.firstName }}</p>
			<h3>Отчество</h3>
			<p>{{ item.patronymic | notSpecified }}</p>
			<h3>Номер телефона</h3>
			<p>{{ item.phone }}</p>
			<h3>Адрес</h3>
			<p>{{ item.address | notSpecified }}</p>

		</ng-template>
	</app-about>

	<div class="action">
		<button
			(click)='openDismissModal(updateFormModal)'
		>
			Понизить роль пользователя до клиента
		</button>
		<button
			(click)='openDeleteModal(updateFormModal)'
		>
			Удалить аккаунт пользователя
		</button>

		<ng-template #updateFormModal></ng-template>

	</div>


</div>
<div class="tabs">
	<app-tabs (tabsChange)="tabsChange($event)">

		<app-tabs-table-content
			header="Активные работы"
			type="active"
			[selected]="true"
			class="tabs__content"
			[service]="recordsService"
			[headItems]="
				[
					{value: -1, name: 'Не выбрано'},
					{value: 'description', name: 'Описание'},
					{value: 'createtime', name: 'Дата создания'},
					{value: 'priority', name: 'Приоритет'}
				]"
		>
			<ng-template bTemplate="body"
									 let-item
			>
				<tr>
					<td data-name="Описание">
						{{ item.description }}
					</td>
					<td data-name="Дата создания">
						{{
							item.createTime | date: 'dd MMMM YYYY hh:mm:ss' : undefined :
								"ru"
						}}
					</td>
					<td data-name="Приоритет">
						<div>
							<span class="priority"
										[attr.data-priority]="item.priority"
							>
								{{ Priority[item.priority] }}
							</span>
						</div>
					</td>
				</tr>
			</ng-template>

		</app-tabs-table-content>

		<app-tabs-table-content
			type="completed"
			header="Завершенные работы"
			class="tabs__content"
			[service]="recordsService"
			[headItems]="
				[
					{value: -1, name: 'Не выбрано'},
					{value: 'description', name: 'Описание'},
					{value: 'createtime', name: 'Дата создания'},
					{value: 'priority', name: 'Приоритет'}
				]"
		>
			<ng-template bTemplate="body"
									 let-item
			>
				<tr>
					<td data-name="Описание">
						{{ item.description }}
					</td>
					<td data-name="Дата создания">
						{{
							item.createTime | date: 'dd MMMM YYYY hh:mm:ss' : undefined :
								"ru"
						}}
					</td>
					<td data-name="Приоритет">
						<div>
							<span class="priority"
										[attr.data-priority]="item.priority"
							>
								{{ Priority[item.priority] }}
							</span>
						</div>
					</td>
				</tr>
			</ng-template>

		</app-tabs-table-content>

	</app-tabs>
</div>

