<div class="wrapper" *ngIf="record">
	<h1>Заявка от
		{{ record.createTime | date: 'dd MMMM hh:mm ' }}
	</h1>
	<div class="client">
		<h2>Контактные данные клиента</h2>
		<p data-name="Полное имя">
			{{ record.client.userInfo | fullName }}
		</p>
		<p data-name="Почта">
			{{ record.client.email }}
		</p>
		<p data-name="Номер телефона">
			{{ record.client.userInfo.phone }}
		</p>
	</div>

	<div class="record">
		<h2>Описание</h2>
		<div class="record__description">
			{{ record.description }}
		</div>
	</div>

	<div class="action">
		<!-- TODO: доделать страницу -->
		<button (click)="dialogOpen(modalPriority,
		{selectItems: priorityItems, priority: record.priority})">
			Изменить
			приоритет
		</button>
		<button>Изменить статус</button>
		<button>Изменить статус</button>
	</div>

	<div class="masters">
		<h2 class="masters__title">
			Исполнители
		</h2>
		<div class="masters__list"></div>
	</div>
</div>

<ng-template #modalPriority let-item>
	<app-select
		[items]="item.selectItems"
		[selectedIndex]="item.priority"
		(selectionChange)="priorityUpdate($event)"
		class="white-bg full-w"
	></app-select>
</ng-template>
